B类下行链路信道选择机制取决于B类信标正在广播的方式。

# 16.1 单信道信标传输

在某些地区（例如EU868）信标在单个信道上传输。在这种情况下，所有单播和组播B类下行链路使用由“_**PingSlotChannelReq**_”MAC命令定义的单一频率信道。默认频率在\[PHY\]中定义。

# 16.2 跳频信标传输

在某些地区（例如US902-928或CN470-510），B类信标是按照跳频模式传输的。

在这种情况下，默认情况下，B类下行链路使用作为最后一个信标的时间字段（参见信标帧内容）和DevAddr的函数的信道。

Class B downlink channel = \[DevAddr + floor \(Beacon\_Time / Beacon\_period\) \] modulo NbChannel

* 由此Beacon\_Time是当前信标周期的32位时间字段
* Beacon\_period是信标周期的长度（在规范中定义为128秒）
* 最小的指定四舍五入到较低的整数值
* DevAddr是设备的32位网络地址
* NbChannel是信标跳频的信道数量

因此，B类下行链路跨越ISM频带中的NbChannel信道（与信标传输信道相同），并且所有B类终端设备在NbChannel下行链路信道中均匀分布。

如果使用具有有效非零参数的“_**PingSlotChannelReq**_”命令来设置B类下行链路频率，则应在此单个频率上打开所有后续的ping时隙，而与最后一个信标频率无关。

如果发送带有零参数的“_**PingSlotChannelReq**_”命令，终端设备应恢复默认的频率规划，B类的ping时隙跨越8个信道。

基本思想是允许网络运营商配置终端设备，以便为B类下行链路（如果可用）使用单个专有专用频段，并在使用ISM频段时尽可能保持频率多样。

